<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <title>Shapes</title>

    <link href="/lib/bootstrap/3.4.1/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/lib/bootstrap/3.4.1/dist/css/bootstrap-theme.min.css" rel="stylesheet" />
    <link href="/lib/mjolnic-bootstrap-colorpicker/2.4.0/dist/css/bootstrap-colorpicker.min.css" rel="stylesheet" />

    <style type="text/css">
      body { padding: 1em }
      .btn { text-align: left }
      .canvas-container { outline: 1px solid gray; float: right }
      .input-group-addon { background: transparent; border: none; display: inline-block; width: 100% }
      .input-group-addon i { display: inline-block; width: 100% !important }
      .form-control { display: none !important }
    </style>

    <script type="text/javascript" src="/lib/jquery/3.6.0/dist/jquery.min.js"></script>
    <script type="text/javascript" src="/lib/bootstrap/3.4.1/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/lib/mjolnic-bootstrap-colorpicker/2.4.0/dist/js/bootstrap-colorpicker.min.js"></script>
    <script type="text/javascript" src="/lib/fabric/1.6.7/dist/fabric.min.js"></script>
    <script type="text/javascript" src="/shapesscalajsreact.js"></script>
  </head>
  <body>
    <h1>Shapes</h1>

    <div class="btn-group-vertical" role="group">
      <span class="btn btn-default input-group">
        <input type="text" value="#4b0082" class="form-control" />
        <span class="input-group-addon"><i></i></span>
      </span>
      <button type="button" class="btn btn-default">Add rectangle</button>
      <button type="button" class="btn btn-default">Add circle</button>
      <button type="button" class="btn btn-default">Add triangle</button>
    </div>

    <canvas></canvas>

    <script type="text/javascript">
      (function() {
        var buttonGroup = $("div").first()
        var canvas = $("canvas").first()

        window.ui = {
          canvas: new fabric.Canvas(canvas[0], { selection: false }),
          colorpicker: $("span").first().colorpicker({ align: "left" }),
          addRectangle: $("button:eq(0)"),
          addCircle: $("button:eq(1)"),
          addTriangle: $("button:eq(2)")
        }

        $(window).resize(resize)
        resize()

        function resize() {
          window.ui.canvas.setDimensions({
            width: window.innerWidth - buttonGroup.offset().left - buttonGroup.outerWidth() - 20,
            height: window.innerHeight - canvas.offset().top - 20
          })
        }
      })()
    </script>
  </body>
</html>
